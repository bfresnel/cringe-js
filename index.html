<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'" />
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'" />
    <title>Hello World!</title>
</head>

<body>
    <input type="text" name="" id="textToFormat" value="test">
    <input type="text" name="" id="cringifiedText" readonly>
    <button type="submit" onclick="formatToCringeMode('textToFormat')">Cringify</button>
    <script>
        function formatToCringeMode(inputIDToCringify) {
            let cringeLocal = '';
            let cringifyAreaText = document.getElementById(inputIDToCringify).value;
            let cringifiedText = document.getElementById('cringifiedText');
            console.log({ cringifyAreaText });
            console.log({ cringifiedText });
            let compteur = 0;
            for (let index = 0; index < cringifyAreaText.length; index++) {
                const element = cringifyAreaText[index];
                const random = Math.random();
                if (random >= 0.5 || compteur >= 2) {
                    cringeLocal = cringeLocal + element.toUpperCase();
                    compteur = 0;
                } else {
                    cringeLocal = cringeLocal + element.toLowerCase();
                    compteur++;
                }
            }

            // if (clipboardLocal) {
            //     clipboard.writeSync(cringe);
            // }

            cringifiedText.value = cringeLocal;
        }
    </script>
</body>

</html>